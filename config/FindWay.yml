app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: FindWay
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/ollama:0.0.8@22213ae036605d41ea73bdd16908e03de1b9d5ab4656a49b8fb0343723f4cb4a
    version: null
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/azure_openai:0.0.34@d12c44c83a845ebe00b0285272011587bb118e2f411c546ffcfd9fe723d205ff
    version: null
kind: app
version: 0.5.0
workflow:
  conversation_variables:
  - description: ''
    id: 5976b2a0-6b29-42ff-b9f8-b95156cfb304
    name: history
    selector:
    - conversation
    - history
    value: {}
    value_type: object
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        attachment_image_file_size_limit: 2
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        file_upload_limit: 20
        image_file_batch_limit: 10
        image_file_size_limit: 10
        single_chunk_attachment_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 1764039554614-source-1764039841850-target
      source: '1764039554614'
      sourceHandle: source
      target: '1764039841850'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: knowledge-retrieval
        targetType: code
      id: 1764235028349-source-1764235048636-target
      source: '1764235028349'
      sourceHandle: source
      target: '1764235048636'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: llm
      id: 1764235048636-source-1764039554614-target
      source: '1764235048636'
      sourceHandle: source
      target: '1764039554614'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 1764235675830-source-1764235765959-target
      source: '1764235675830'
      sourceHandle: source
      target: '1764235765959'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: knowledge-retrieval
      id: 1763716164776-false-1764235028349-target
      source: '1763716164776'
      sourceHandle: 'false'
      target: '1764235028349'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: assigner
      id: 1763716164776-true-1766711706400-target
      source: '1763716164776'
      sourceHandle: 'true'
      target: '1766711706400'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: assigner
        targetType: answer
      id: 1766711706400-source-1763946860879-target
      source: '1766711706400'
      sourceHandle: source
      target: '1763946860879'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: if-else
      id: 1763715598482-source-1763716164776-target
      source: '1763715598482'
      sourceHandle: source
      target: '1763716164776'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: if-else
      id: 1763707294052-source-1766712229458-target
      source: '1763707294052'
      sourceHandle: source
      target: '1766712229458'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: knowledge-retrieval
      id: 1766712229458-true-1764235028349-target
      source: '1766712229458'
      sourceHandle: 'true'
      target: '1764235028349'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: code
      id: 1766712229458-false-1763715598482-target
      source: '1766712229458'
      sourceHandle: 'false'
      target: '1763715598482'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: assigner
      id: 1764039841850-source-1766713662058-target
      source: '1764039841850'
      sourceHandle: source
      target: '1766713662058'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: assigner
        targetType: if-else
      id: 1766713662058-source-1764039986891-target
      source: '1766713662058'
      sourceHandle: source
      target: '1764039986891'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: answer
      id: 1764235765959-source-1764040028060-target
      source: '1764235765959'
      sourceHandle: source
      target: '1764040028060'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1764039986891-false-1764235675830-target
      source: '1764039986891'
      sourceHandle: 'false'
      target: '1764235675830'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: 1764039986891-true-1766713692537-target
      source: '1764039986891'
      sourceHandle: 'true'
      target: '1766713692537'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        selected: false
        title: ç”¨æˆ·è¾“å…¥
        type: start
        variables: []
      height: 76
      id: '1763707294052'
      position:
        x: 0
        y: 24
      positionAbsolute:
        x: 0
        y: 24
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "\nfunction main({query, history}) {\n  const index = Number(query)\n\
          \  const filter = history?.result?.[index - 1] ?? null\n  const find = Array.from(history?.result\
          \ ?? []).find(o => {\n    return o?.child_space_name === query || !!o?.product?.find(v\
          \ => v.product_name === query)\n  })\n  const can_reply = !!filter || !!find\n\
          \  const trans = {\n    zh: 'æ ¹æ“šä½ çš„æå•ï¼Œå·²æ‰¾åˆ°ç›¸é—œè³‡è¨Š',\n    en: 'I\\'ve found some\
          \ info regarding your question.'\n  }\n  const answer = {\n    AI_reply:\
          \ trans[history?.code] || trans.zh,\n    info: [filter ?? find],\n  }\n\
          \  return {\n    can_reply,\n    answer,\n  }\n}"
        code_language: javascript
        outputs:
          answer:
            children: null
            type: object
          can_reply:
            children: null
            type: boolean
        selected: false
        title: å¤„ç†å†å²
        type: code
        variables:
        - value_selector:
          - sys
          - query
          value_type: string
          variable: query
        - value_selector:
          - conversation
          - history
          value_type: object
          variable: history
      height: 52
      id: '1763715598482'
      position:
        x: 704
        y: 161
      positionAbsolute:
        x: 704
        y: 161
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is
            id: a9b72767-9b72-47d2-849c-bb634754b34c
            value: true
            varType: boolean
            variable_selector:
            - '1763715598482'
            - can_reply
          id: 'true'
          logical_operator: and
        selected: false
        title: åˆ¤æ–­æ˜¯å¦å¯ä»¥å›å¤
        type: if-else
      height: 124
      id: '1763716164776'
      position:
        x: 1046
        y: 125
      positionAbsolute:
        x: 1046
        y: 125
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: '{{#1763715598482.answer#}}'
        selected: false
        title: ç›´æ¥å›ç­”é€‰æ‹©ç»“æœ
        type: answer
        variables: []
      height: 103
      id: '1763946860879'
      position:
        x: 1750
        y: 204
      positionAbsolute:
        x: 1750
        y: 204
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        model:
          completion_params:
            temperature: 0
          mode: chat
          name: gpt-4o
          provider: langgenius/azure_openai/azure_openai
        prompt_template:
        - id: e3e20c31-8ba8-42df-829e-3a8ed19b46d3
          role: system
          text: "# Role\nä½ æ˜¯ä¸€ä¸ªä¸¥æ ¼æ¨¡å¼çš„é«˜çº§æ„å›¾è¯†åˆ«ä¸“å®¶ã€‚\n\n# Task\nä½ çš„ä»»åŠ¡æ˜¯åˆ†ææ£€ç´¢ç»“æœå’Œç”¨æˆ·è¾“å…¥ï¼Œé€šè¿‡é€»è¾‘æ¨ç†ç¡®å®šå”¯ä¸€çš„æ„å›¾ç±»åˆ«ï¼Œå¹¶è¯†åˆ«ç”¨æˆ·è¾“å…¥çš„è¯­è¨€ã€‚\n\
            \n# Ruleï¼ˆæ„å›¾åˆ¤å®šè§„åˆ™ï¼‰\n1. storeï¼ˆé—¨åº—/åœ°ç‚¹ï¼‰åˆ¤å®šï¼š æ£€ç´¢ç»“æœåŒ…å«å…·ä½“é—¨åº—ä¿¡æ¯ï¼›æˆ–ç”¨æˆ·è¯¢é—®â€œåœ¨å“ªé‡Œâ€ã€â€œå“ªé‡Œä¹°â€ã€â€œé™„è¿‘æœ‰å—â€ï¼›æˆ–æ¶‰åŠå“ç‰Œã€ä½ç½®ã€å•†åº—ç­‰åœ°ç†/å®ä½“å±æ€§ã€‚\n\
            2. productï¼ˆå•†å“/æœåŠ¡ï¼‰åˆ¤å®šï¼š ç”¨æˆ·è¡¨è¾¾â€œæƒ³è¦â€ã€â€œæƒ³ä¹°â€ã€â€œæƒ³åƒâ€ã€â€œæƒ³å–â€ï¼›æˆ–è¾“å…¥å†…å®¹ä¸»è¦èšç„¦äºäº§å“å‚æ•°ã€è§„æ ¼ã€æœåŠ¡å†…å®¹æœ¬èº«ã€‚\n\
            3. otherï¼ˆå…¶ä»–ï¼‰ï¼š ä¸ç¬¦åˆä¸Šè¿°æ˜ç¡®æ„å›¾çš„è¯·æ±‚ã€‚\n\n# Thinking Process (CoT)\n1. è¯­è¨€è¯†åˆ«ï¼šè¯†åˆ«ç”¨æˆ·è¾“å…¥æ‰€ä½¿ç”¨çš„è¯­è¨€ï¼Œè¿”å›æ ‡å‡†è¯­è¨€ä»£ç ï¼ˆå¦‚\
            \ en-US, zh-CN, zh-TW, ja-JPï¼‰ã€‚\n2. æ„å›¾æ¨ç†ï¼šç»“åˆåˆ¤å®šè§„åˆ™ï¼Œåˆ†æç”¨æˆ·è¾“å…¥ä¸æ£€ç´¢ç»“æœï¼Œå¾—åˆ°å”¯ä¸€æ„å›¾ç±»åˆ«ã€‚\n\
            \n# Output Schema\n```json\n{\n  \"language\": \"è¯†åˆ«åˆ°çš„è¯­è¨€ä»£ç \",\n  \"intent\"\
            : \"store/product/other\"\n}\n```"
        - id: a063b819-2984-404c-b17c-6f095fa18608
          role: user
          text: 'æ£€ç´¢ç»“æœï¼š{{#1764235048636.chunk#}}


            ç”¨æˆ·è¾“å…¥ï¼š{{#sys.query#}}'
        selected: false
        title: LLM åˆ¤æ–­ç”¨æˆ·æ„å›¾
        type: llm
        vision:
          enabled: false
      height: 88
      id: '1764039554614'
      position:
        x: 2092
        y: 45
      positionAbsolute:
        x: 2092
        y: 45
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "\nfunction handleLLM(text) {\n  const regex = /```json([\\s\\S]*?)```/\n\
          \  const _res = text.replaceAll(/<think>[\\s\\S]*?<\\/think>/g, '')\n  const\
          \ match = _res.match(regex);\n  const res = !!match ? match[1].trim() :\
          \ _res\n  const str = res.replaceAll(/\\/\\/.*$/gm, '').replaceAll(/\\/\\\
          *[\\s\\S]*?\\*\\//g, '')\n  let obj\n  try {\n    obj = JSON.parse(str)\n\
          \  } catch (e) {\n    obj = {}\n  }\n  return obj\n}\nfunction main({text,\
          \ list}) {\n  const obj = handleLLM(text)\n  const intent = obj.intent ||\
          \ ''\n  const lang = obj.language || 'zh'\n  const code = lang.includes('zh')\
          \ ? 'zh' : 'en'\n  const trans = {\n    zh: {\n      multiple: 'æ ¹æ“šä½ çš„æå•ï¼Œä»¥ä¸‹å•†åº—å¯èƒ½ç¬¦åˆä½ çš„éœ€æ±‚',\n\
          \      single: 'æ ¹æ“šä½ çš„æå•ï¼Œå·²æ‰¾åˆ°ç›¸é—œè³‡è¨Š',\n      none: 'æŠ±æ­‰ï¼Œæ²’æœ‰æª¢ç´¢åˆ°ç›¸é—œä¿¡æ¯ï¼Œè«‹é‡æ–°æå•ã€‚'\n  \
          \  },\n    en: {\n      multiple: 'Based on your question, here are some\
          \ stores you might like.',\n      single: 'I\\'ve found some info regarding\
          \ your question.',\n      none: 'Sorry, I couldn\\'t find anything for that\
          \ question. Please try again!'\n    }\n  }\n  let history = {}, answer =\
          \ {}\n  if (intent === 'product' || intent === 'store') {\n    const filter\
          \ = []\n    const check = {}\n    Array.from(list).forEach(obj => {\n  \
          \    if (check[obj.child_space_id] === undefined) {\n        check[obj.child_space_id]\
          \ = filter.length\n        filter.push({\n          space_id: obj.space_id,\n\
          \          space_name: obj.space_name,\n          child_space_id: obj.child_space_id,\n\
          \          child_space_name: obj.store_name,\n          time: obj.store_time,\n\
          \          description: obj.store_description,\n          product: []\n\
          \        })\n      }\n      if (intent === 'product') {\n        filter[check[obj.child_space_id]].product.push({\n\
          \          product_id: obj.product_id,\n          product_name: obj.name,\n\
          \          price: obj.price,\n        })\n      }\n    })\n    if (filter.length\
          \ > 1) {\n      history = {\n        intent,\n        code,\n        result:\
          \ filter,\n      }\n    }\n    answer = {\n      AI_reply: filter.length\
          \ > 1 ? trans[code].multiple : (filter.length === 0 ? trans[code].none :\
          \ trans[code].single),\n      info: filter,\n    }\n  }\n  return {\n  \
          \  intent,\n    history,\n    answer,\n  }\n}\n"
        code_language: javascript
        outputs:
          answer:
            children: null
            type: object
          history:
            children: null
            type: object
          intent:
            children: null
            type: string
        selected: false
        title: å¤„ç†ç”¨æˆ·æ„å›¾
        type: code
        variables:
        - value_selector:
          - '1764039554614'
          - text
          value_type: string
          variable: text
        - value_selector:
          - '1764235048636'
          - list
          value_type: array[object]
          variable: list
      height: 52
      id: '1764039841850'
      position:
        x: 2434
        y: 63
      positionAbsolute:
        x: 2434
        y: 63
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is
            id: 785b487d-a142-4574-b9df-c00b31128ee4
            value: product
            varType: string
            variable_selector:
            - '1764039841850'
            - intent
          - comparison_operator: is
            id: 3b0b430e-6305-4ea7-b8eb-17b0c84d1461
            value: store
            varType: string
            variable_selector:
            - '1764039841850'
            - intent
          id: 'true'
          logical_operator: or
        selected: false
        title: æ˜¯å¦æŸ¥è¯¢
        type: if-else
      height: 150
      id: '1764039986891'
      position:
        x: 3118
        y: 14
      positionAbsolute:
        x: 3118
        y: 14
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: '{{#1764235765959.answer#}}'
        selected: false
        title: å›ç­”é—²èŠ
        type: answer
        variables: []
      height: 103
      id: '1764040028060'
      position:
        x: 4164
        y: 52
      positionAbsolute:
        x: 4164
        y: 52
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        dataset_ids:
        - In3usSDALUZDa+3LdOj9J2rNXsUal5o7Fhp3Tx2epRrls5M3B87EdvSjFWwQYR9t
        multiple_retrieval_config:
          reranking_enable: false
          reranking_mode: weighted_score
          score_threshold: 0.18
          top_k: 10
          weights:
            keyword_setting:
              keyword_weight: 0.3
            vector_setting:
              embedding_model_name: quentinz/bge-large-zh-v1.5:latest
              embedding_provider_name: langgenius/ollama/ollama
              vector_weight: 0.7
            weight_type: customized
        query_attachment_selector: []
        query_variable_selector:
        - '1763707294052'
        - sys.query
        retrieval_mode: multiple
        selected: false
        title: çŸ¥è¯†æ£€ç´¢
        type: knowledge-retrieval
      height: 52
      id: '1764235028349'
      position:
        x: 1408
        y: 44
      positionAbsolute:
        x: 1408
        y: 44
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "\nfunction parseKeyValueText(input) {\n  const result = {}\n  if (typeof\
          \ input !== 'string') return result\n\n  const lines = input.split(/\\r?\\\
          n/).map(line => line.trim()).filter(Boolean)\n\n  for (const line of lines)\
          \ {\n    // åªåˆ‡ç¬¬ä¸€ä¸ªå†’å·ï¼Œé˜²æ­¢ value ä¸­åŒ…å«å†’å·\n    const idx = line.indexOf(':')\n\
          \    if (idx === -1) continue\n\n    const key = line.slice(0, idx).trim()\n\
          \    let value = line.slice(idx + 1).trim()\n\n    if (!key) continue\n\n\
          \    result[key] = value\n  }\n\n  return result\n}\nfunction main({result,\
          \ query}) {\n  const list = Array.from(result).map(o => {\n    return parseKeyValueText(o.content)\n\
          \  })\n  let chunk = ''\n  if (Array.from(result).length > 0) {\n    chunk\
          \ = result[0]?.metadata?.child_chunks?.[0]?.content ?? ''\n  }\n  const\
          \ store = []\n  const check = {}\n  list.forEach(obj => {\n    if (check[obj.child_space_id]\
          \ === undefined) {\n      check[obj.child_space_id] = store.length\n   \
          \   store.push({\n        child_space_id: obj.child_space_id,\n        description:\
          \ obj.store_description,\n        product: [],\n      })\n    }\n    store[check[obj.child_space_id]].product.push(obj.name)\n\
          \  })\n  const prompt = store.map(o => {\n    return `\n1. é–€åº—åŸå§‹ç°¡ä»‹ï¼š${o.description}\n\
          2. ç”¨æˆ¶å•é¡Œï¼š${query}\n3. ç›¸é—œç”¢å“æª¢ç´¢çµæœï¼ˆå¯èƒ½ä¸ºç©ºï¼‰ï¼š${JSON.stringify(o.product)}`\n  })\n\
          \  return {\n    list,\n    chunk,\n    store,\n    prompt,\n  }\n}\n"
        code_language: javascript
        outputs:
          chunk:
            children: null
            type: string
          list:
            children: null
            type: array[object]
          prompt:
            children: null
            type: array[string]
          store:
            children: null
            type: array[object]
        selected: false
        title: å¤„ç†æ£€ç´¢ç»“æœ
        type: code
        variables:
        - value_selector:
          - '1764235028349'
          - result
          value_type: array[object]
          variable: result
        - value_selector:
          - sys
          - query
          value_type: string
          variable: query
      height: 52
      id: '1764235048636'
      position:
        x: 1750
        y: 63
      positionAbsolute:
        x: 1750
        y: 63
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        model:
          completion_params:
            temperature: 0
          mode: chat
          name: gpt-4o
          provider: langgenius/azure_openai/azure_openai
        prompt_template:
        - id: 823e14b9-cf73-4c18-ae72-8419922a22bc
          role: system
          text: 'ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½åŠ©æ‰‹ã€‚


            ä»»åŠ¡ï¼š

            è¯·å›ç­”ç”¨æˆ·é—®é¢˜ã€‚


            è¦æ±‚ï¼š

            - å›ç­”è¦ç®€æ´ã€æ˜ç¡®ã€å‹å¥½ã€‚

            - è¦ä½¿ç”¨ç”¨æˆ·æé—®çš„è¯­è¨€è¿›è¡Œå›ç­”ã€‚'
        - id: cca34b78-a737-4f46-af22-a478196b557c
          role: user
          text: '{{#sys.query#}}'
        selected: false
        title: LLM å›ç­”ç”¨æˆ·é—²èŠ
        type: llm
        vision:
          enabled: false
      height: 88
      id: '1764235675830'
      position:
        x: 3480
        y: 60
      positionAbsolute:
        x: 3480
        y: 60
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "\nfunction main({text}) {\n  const answer = {\n    AI_reply: text.replaceAll(/<think>[\\\
          s\\S]*?<\\/think>/g, ''),\n    info: [],\n  }\n  return {\n    answer\n\
          \  }\n}\n"
        code_language: javascript
        outputs:
          answer:
            children: null
            type: object
        selected: false
        title: å¤„ç†é—²èŠç»“æœ
        type: code
        variables:
        - value_selector:
          - '1764235675830'
          - text
          value_type: string
          variable: text
      height: 52
      id: '1764235765959'
      position:
        x: 3822
        y: 78
      positionAbsolute:
        x: 3822
        y: 78
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        items:
        - input_type: variable
          operation: clear
          value: ''
          variable_selector:
          - conversation
          - history
          write_mode: over-write
        selected: false
        title: æ¸…ç©ºå†å²
        type: assigner
        version: '2'
      height: 84
      id: '1766711706400'
      position:
        x: 1408
        y: 214
      positionAbsolute:
        x: 1408
        y: 214
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: empty
            id: 90287275-e1ae-4ccc-9530-8de877e3c852
            value: ''
            varType: object
            variable_selector:
            - conversation
            - history
          id: 'true'
          logical_operator: and
        selected: false
        title: æ˜¯å¦å­˜åœ¨å†å²
        type: if-else
      height: 124
      id: '1766712229458'
      position:
        x: 342
        y: 0
      positionAbsolute:
        x: 342
        y: 0
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        items:
        - input_type: variable
          operation: over-write
          value:
          - '1764039841850'
          - history
          variable_selector:
          - conversation
          - history
          write_mode: over-write
        selected: false
        title: ä¿å­˜å†å²
        type: assigner
        version: '2'
      height: 84
      id: '1766713662058'
      position:
        x: 2776
        y: 47
      positionAbsolute:
        x: 2776
        y: 47
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: '{{#1764039841850.answer#}}'
        selected: false
        title: å›å¤æŸ¥è¯¢ç»“æœ
        type: answer
        variables: []
      height: 103
      id: '1766713692537'
      position:
        x: 3480
        y: 228
      positionAbsolute:
        x: 3480
        y: 228
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    viewport:
      x: 128.18047093504993
      y: 327.2379086829297
      zoom: 1.031285943946053
  rag_pipeline_variables: []
